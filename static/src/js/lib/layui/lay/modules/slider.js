layui.define("jquery",function(e){"use strict";var i=layui.jquery,t={config:{},index:layui.slider?layui.slider.index+1e4:0,set:function(e){var t=this;return t.config=i.extend({},t.config,e),t},on:function(e,i){return layui.onevent.call(this,n,e,i)}},a=function(){var e=this,i=e.config;return{setValue:function(i,t){return e.slide("set",i,t||0)},config:i}},n="slider",l="layui-disabled",s="layui-slider-bar",r="layui-slider-wrap",o="layui-slider-wrap-btn",u="layui-slider-tips",d="layui-slider-input-txt",v="layui-slider-input-btn",c="layui-slider-hover",m=function(e){var a=this;a.index=++t.index,a.config=i.extend({},a.config,t.config,e),a.render()};m.prototype.config={type:"default",min:0,max:100,value:0,step:1,showstep:!1,tips:!0,input:!1,range:!1,height:200,disabled:!1,theme:"#009688"},m.prototype.render=function(){var e=this,t=e.config;if(t.step<1&&(t.step=1),t.max<t.min&&(t.max=t.min+t.step),t.range){t.value="object"==typeof t.value?t.value:[t.min,t.value];var a=Math.min(t.value[0],t.value[1]),n=Math.max(t.value[0],t.value[1]);t.value[0]=a>t.min?a:t.min,t.value[1]=n>t.min?n:t.min,t.value[0]=t.value[0]>t.max?t.max:t.value[0],t.value[1]=t.value[1]>t.max?t.max:t.value[1];var s=Math.floor((t.value[0]-t.min)/(t.max-t.min)*100),v=Math.floor((t.value[1]-t.min)/(t.max-t.min)*100),c=v-s+"%";s+="%",v+="%"}else{"object"==typeof t.value&&(t.value=Math.min.apply(null,t.value)),t.value<t.min&&(t.value=t.min),t.value>t.max&&(t.value=t.max);var c=Math.floor((t.value-t.min)/(t.max-t.min)*100)+"%"}var m=t.disabled?"#c2c2c2":t.theme,p='<div class="layui-slider '+("vertical"===t.type?"layui-slider-vertical":"")+'">'+(t.tips?'<div class="layui-slider-tips"></div>':"")+'<div class="layui-slider-bar" style="background:'+m+"; "+("vertical"===t.type?"height":"width")+":"+c+";"+("vertical"===t.type?"bottom":"left")+":"+(s||0)+';"></div><div class="layui-slider-wrap" style="'+("vertical"===t.type?"bottom":"left")+":"+(s||c)+';"><div class="layui-slider-wrap-btn" style="border: 2px solid '+m+';"></div></div>'+(t.range?'<div class="layui-slider-wrap" style="'+("vertical"===t.type?"bottom":"left")+":"+v+';"><div class="layui-slider-wrap-btn" style="border: 2px solid '+m+';"></div></div>':"")+"</div>",f=i(t.elem),h=f.next(".layui-slider");if(h[0]&&h.remove(),e.elemTemp=i(p),t.range?(e.elemTemp.find("."+r).eq(0).data("value",t.value[0]),e.elemTemp.find("."+r).eq(1).data("value",t.value[1])):e.elemTemp.find("."+r).data("value",t.value),f.html(e.elemTemp),"vertical"===t.type&&e.elemTemp.height(t.height+"px"),t.showstep){for(var y=(t.max-t.min)/t.step,g="",b=1;b<y+1;b++){var x=100*b/y;x<100&&(g+='<div class="layui-slider-step" style="'+("vertical"===t.type?"bottom":"left")+":"+x+'%"></div>')}e.elemTemp.append(g)}if(t.input&&!t.range){var T=i('<div class="layui-slider-input layui-input"><div class="layui-slider-input-txt"><input type="text" class="layui-input"></div><div class="layui-slider-input-btn"><i class="layui-icon layui-icon-up"></i><i class="layui-icon layui-icon-down"></i></div></div>');f.css("position","relative"),f.append(T),f.find("."+d).children("input").val(t.value),"vertical"===t.type?T.css({left:0,top:-48}):e.elemTemp.css("margin-right",T.outerWidth()+15)}t.disabled?(e.elemTemp.addClass(l),e.elemTemp.find("."+o).addClass(l)):e.slide(),e.elemTemp.find("."+o).on("mouseover",function(){var a="vertical"===t.type?t.height:e.elemTemp[0].offsetWidth,n=e.elemTemp.find("."+r),l="vertical"===t.type?a-i(this).parent()[0].offsetTop-n.height():i(this).parent()[0].offsetLeft,s=l/a*100,o=i(this).parent().data("value"),d=t.setTips?t.setTips(o):o;e.elemTemp.find("."+u).html(d),"vertical"===t.type?e.elemTemp.find("."+u).css({bottom:s+"%","margin-bottom":"20px",display:"inline-block"}):e.elemTemp.find("."+u).css({left:s+"%",display:"inline-block"})}).on("mouseout",function(){e.elemTemp.find("."+u).css("display","none")})},m.prototype.slide=function(e,t,a){var n=this,l=n.config,m=n.elemTemp,p=function(){return"vertical"===l.type?l.height:m[0].offsetWidth},f=m.find("."+r),h=m.next(".layui-slider-input"),y=h.children("."+d).children("input").val(),g=100/((l.max-l.min)/Math.ceil(l.step)),b=function(e,i){e=Math.ceil(e)*g>100?Math.ceil(e)*g:Math.round(e)*g,e=e>100?100:e,f.eq(i).css("vertical"===l.type?"bottom":"left",e+"%");var t=x(f[0].offsetLeft),a=l.range?x(f[1].offsetLeft):0;"vertical"===l.type?(m.find("."+u).css({bottom:e+"%","margin-bottom":"20px"}),t=x(p()-f[0].offsetTop-f.height()),a=l.range?x(p()-f[1].offsetTop-f.height()):0):m.find("."+u).css("left",e+"%"),t=t>100?100:t,a=a>100?100:a;var n=Math.min(t,a),r=Math.abs(t-a);"vertical"===l.type?m.find("."+s).css({height:r+"%",bottom:n+"%"}):m.find("."+s).css({width:r+"%",left:n+"%"});var o=l.min+Math.round((l.max-l.min)*e/100);if(y=o,h.children("."+d).children("input").val(y),f.eq(i).data("value",o),o=l.setTips?l.setTips(o):o,m.find("."+u).html(o),l.range){var v=[f.eq(0).data("value"),f.eq(1).data("value")];v[0]>v[1]&&v.reverse()}l.change&&l.change(l.range?v:o)},x=function(e){var i=e/p()*100/g,t=Math.round(i)*g;return e==p()&&(t=Math.ceil(i)*g),t},T=i(['<div class="layui-auxiliar-moving" id="LAY-slider-moving"></div'].join("")),w=function(e,t){var a=function(){t&&t(),T.remove()};i("#LAY-slider-moving")[0]||i("body").append(T),T.on("mousemove",e),T.on("mouseup",a).on("mouseleave",a)};if("set"===e)return b(t,a);m.find("."+o).each(function(e){var t=i(this);t.on("mousedown",function(i){i=i||window.event;var a=t.parent()[0].offsetLeft,n=i.clientX;"vertical"===l.type&&(a=p()-t.parent()[0].offsetTop-f.height(),n=i.clientY),w(function(i){i=i||window.event;var s=a+("vertical"===l.type?n-i.clientY:i.clientX-n);s<0&&(s=0),s>p()&&(s=p());var r=s/p()*100/g;b(r,e),t.addClass(c),m.find("."+u).show(),i.preventDefault()},function(){t.removeClass(c),m.find("."+u).hide()})})}),m.on("click",function(e){var t=i("."+o);if(!t.is(event.target)&&0===t.has(event.target).length&&t.length){var a,n="vertical"===l.type?p()-e.clientY+i(this).offset().top:e.clientX-i(this).offset().left;n<0&&(n=0),n>p()&&(n=p());var s=n/p()*100/g;a=l.range?"vertical"===l.type?Math.abs(n-parseInt(i(f[0]).css("bottom")))>Math.abs(n-parseInt(i(f[1]).css("bottom")))?1:0:Math.abs(n-f[0].offsetLeft)>Math.abs(n-f[1].offsetLeft)?1:0:0,b(s,a),e.preventDefault()}}),h.hover(function(){i(this).children("."+v).fadeIn("fast")},function(){i(this).children("."+v).fadeOut("fast")}),h.children("."+v).children("i").each(function(e){i(this).on("click",function(){y=1==e?y-l.step<l.min?l.min:Number(y)-l.step:Number(y)+l.step>l.max?l.max:Number(y)+l.step;var i=(y-l.min)/(l.max-l.min)*100/g;b(i,0)})});var M=function(){var e=this.value;e=isNaN(e)?0:e,e=e<l.min?l.min:e,e=e>l.max?l.max:e,this.value=e;var i=(e-l.min)/(l.max-l.min)*100/g;b(i,0)};h.children("."+d).children("input").on("keydown",function(e){13===e.keyCode&&(e.preventDefault(),M.call(this))}).on("change",M)},m.prototype.events=function(){this.config},t.render=function(e){var i=new m(e);return a.call(i)},e(n,t)});